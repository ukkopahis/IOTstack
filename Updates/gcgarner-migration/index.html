
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Docker stack for getting started on IOT on the Raspberry PI">
      
      
      
      <link rel="icon" href="../../stack-24.svg">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.13">
    
    
      
        <title>Migrating from gcgarner to SensorsIot - IOTstack - UKKOPAHIS-fork</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e411adfe.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../style.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#migrating-from-gcgarner-to-sensorsiot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="IOTstack - UKKOPAHIS-fork" class="md-header__button md-logo" aria-label="IOTstack - UKKOPAHIS-fork" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M11.063 1.456a1.75 1.75 0 0 1 1.874 0l8.383 5.316a1.75 1.75 0 0 1 0 2.956l-8.383 5.316a1.75 1.75 0 0 1-1.874 0L2.68 9.728a1.75 1.75 0 0 1 0-2.956l8.383-5.316zm1.071 1.267a.25.25 0 0 0-.268 0L3.483 8.039a.25.25 0 0 0 0 .422l8.383 5.316a.25.25 0 0 0 .268 0l8.383-5.316a.25.25 0 0 0 0-.422l-8.383-5.316z"/><path fill-rule="evenodd" d="M1.867 12.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.75 1.75 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035z"/><path fill-rule="evenodd" d="M1.867 16.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.75 1.75 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IOTstack - UKKOPAHIS-fork
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Migrating from gcgarner to SensorsIot
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ukkopahis/IOTstack" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ukkopahis/IOTstack
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Basic_setup/" class="md-tabs__link">
        Basic setup
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Containers/AdGuardHome/" class="md-tabs__link">
        Containers
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../Developers/" class="md-tabs__link">
        Developers
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Updates
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IOTstack - UKKOPAHIS-fork" class="md-nav__button md-logo" aria-label="IOTstack - UKKOPAHIS-fork" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M11.063 1.456a1.75 1.75 0 0 1 1.874 0l8.383 5.316a1.75 1.75 0 0 1 0 2.956l-8.383 5.316a1.75 1.75 0 0 1-1.874 0L2.68 9.728a1.75 1.75 0 0 1 0-2.956l8.383-5.316zm1.071 1.267a.25.25 0 0 0-.268 0L3.483 8.039a.25.25 0 0 0 0 .422l8.383 5.316a.25.25 0 0 0 .268 0l8.383-5.316a.25.25 0 0 0 0-.422l-8.383-5.316z"/><path fill-rule="evenodd" d="M1.867 12.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.75 1.75 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035z"/><path fill-rule="evenodd" d="M1.867 16.324a.75.75 0 0 1 1.035-.232l8.964 5.685a.25.25 0 0 0 .268 0l8.964-5.685a.75.75 0 0 1 .804 1.267l-8.965 5.685a1.75 1.75 0 0 1-1.874 0l-8.965-5.685a.75.75 0 0 1-.231-1.035z"/></svg>

    </a>
    IOTstack - UKKOPAHIS-fork
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ukkopahis/IOTstack" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ukkopahis/IOTstack
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Basic setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Basic setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Basic setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Accessing-your-Device-from-the-internet/" class="md-nav__link">
        Accessing your device from the internet
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Backup-and-Restore/" class="md-nav__link">
        Backing up and restoring IOTstack
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Custom/" class="md-nav__link">
        Custom overrides
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Default-Configs/" class="md-nav__link">
        Default Passwords and ports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Docker/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Menu/" class="md-nav__link">
        Menu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Networking/" class="md-nav__link">
        Networking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/Understanding-Containers/" class="md-nav__link">
        What is Docker?
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Basic_setup/What-is-sudo/" class="md-nav__link">
        What is sudo?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Containers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Containers" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Containers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/AdGuardHome/" class="md-nav__link">
        AdGuard Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Adminer/" class="md-nav__link">
        Adminer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Blynk_server/" class="md-nav__link">
        Blynk server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Chronograf/" class="md-nav__link">
        Chronograf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/DashMachine/" class="md-nav__link">
        DashMachine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Deconz/" class="md-nav__link">
        deCONZ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/DiyHue/" class="md-nav__link">
        DIY hue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Dozzle/" class="md-nav__link">
        Dozzle
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Duckdns/" class="md-nav__link">
        Duck DNS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/EspruinoHub/" class="md-nav__link">
        Espruinohub
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Grafana/" class="md-nav__link">
        Grafana
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Heimdall/" class="md-nav__link">
        Heimdall
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Home-Assistant/" class="md-nav__link">
        Home Assistant
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Homebridge/" class="md-nav__link">
        Homebridge
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Homer/" class="md-nav__link">
        Homer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/InfluxDB/" class="md-nav__link">
        InfluxDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/InfluxDB2/" class="md-nav__link">
        InfluxDB 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Kapacitor/" class="md-nav__link">
        Kapacitor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/MariaDB/" class="md-nav__link">
        MariaDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Mosquitto/" class="md-nav__link">
        Mosquitto
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/MotionEye/" class="md-nav__link">
        MotionEye
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/NextCloud/" class="md-nav__link">
        Nextcloud
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Node-RED/" class="md-nav__link">
        Node-RED
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Octoprint/" class="md-nav__link">
        Octoprint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/OpenHab/" class="md-nav__link">
        openHAB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Pi-hole/" class="md-nav__link">
        Pi-hole
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Plex/" class="md-nav__link">
        Plex
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Portainer-agent/" class="md-nav__link">
        Portainer agent
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Portainer-ce/" class="md-nav__link">
        Portainer CE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/PostgreSQL/" class="md-nav__link">
        PostgreSQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Prometheus/" class="md-nav__link">
        Prometheus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Python/" class="md-nav__link">
        Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/RTL_433-docker/" class="md-nav__link">
        RTL_433 Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Syncthing/" class="md-nav__link">
        Syncthing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/TasmoAdmin/" class="md-nav__link">
        TasmoAdmin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Telegraf/" class="md-nav__link">
        Telegraf
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Timescaledb/" class="md-nav__link">
        Timescaledb
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/WireGuard/" class="md-nav__link">
        WireGuard
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/X2go/" class="md-nav__link">
        x2go
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Zigbee2MQTT/" class="md-nav__link">
        Zigbee2MQTT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Containers/Zigbee2mqttassistant/" class="md-nav__link">
        Zigbee2Mqtt Assistant
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Developers
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developers" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Developers
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers/BuildStack-RandomPassword/" class="md-nav__link">
        Build Stack Random Services Password
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers/BuildStack-Services/" class="md-nav__link">
        Build Stack Services system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers/Git-Setup/" class="md-nav__link">
        Git Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers/Menu-System/" class="md-nav__link">
        Menu system
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Developers/PostBuild-Script/" class="md-nav__link">
        Postbuild BASH Script
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Updates
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Updates" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Updates
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Updating the project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../New-Menu-Release-Notes/" class="md-nav__link">
        New IOTstack Menu
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Migrating from gcgarner to SensorsIot
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Migrating from gcgarner to SensorsIot
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#migration-steps" class="md-nav__link">
    Migration Steps
  </a>
  
    <nav class="md-nav" aria-label="Migration Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-check-your-assumptions" class="md-nav__link">
    Step 1 – Check your assumptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-take-iotstack-down" class="md-nav__link">
    Step 2 – Take IOTstack down
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-choose-your-migration-method" class="md-nav__link">
    Step 3 – Choose your migration method
  </a>
  
    <nav class="md-nav" aria-label="Step 3 – Choose your migration method">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migration-option-1-change-upstream-repository" class="md-nav__link">
    Migration Option 1 – change upstream repository
  </a>
  
    <nav class="md-nav" aria-label="Migration Option 1 – change upstream repository">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-for-local-changes" class="md-nav__link">
    Check for local changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronise-with-gcgarner-on-github" class="md-nav__link">
    Synchronise with gcgarner on GitHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-rid-of-any-upstream-reference" class="md-nav__link">
    Get rid of any upstream reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#point-to-sensorsiot" class="md-nav__link">
    Point to SensorsIot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronise-with-sensorsiot-on-github" class="md-nav__link">
    Synchronise with SensorsIot on GitHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finish-with-a-pull" class="md-nav__link">
    Finish with a pull
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-option-2-clone-and-merge" class="md-nav__link">
    Migration Option 2 – clone and merge
  </a>
  
    <nav class="md-nav" aria-label="Migration Option 2 – clone and merge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rename-your-existing-iotstack-folder" class="md-nav__link">
    Rename your existing IOTstack folder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-a-clean-clone-of-sensorsiotiotstack" class="md-nav__link">
    Fetch a clean clone of SensorsIot/IOTstack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-old-into-new" class="md-nav__link">
    Merge old into new
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-choose-your-menu" class="md-nav__link">
    Step 4 – Choose your menu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-bring-up-your-stack" class="md-nav__link">
    Step 5 – Bring up your stack
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See also
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../migration-network-change/" class="md-nav__link">
        Migration: network change
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#migration-steps" class="md-nav__link">
    Migration Steps
  </a>
  
    <nav class="md-nav" aria-label="Migration Steps">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-check-your-assumptions" class="md-nav__link">
    Step 1 – Check your assumptions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-take-iotstack-down" class="md-nav__link">
    Step 2 – Take IOTstack down
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-choose-your-migration-method" class="md-nav__link">
    Step 3 – Choose your migration method
  </a>
  
    <nav class="md-nav" aria-label="Step 3 – Choose your migration method">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#migration-option-1-change-upstream-repository" class="md-nav__link">
    Migration Option 1 – change upstream repository
  </a>
  
    <nav class="md-nav" aria-label="Migration Option 1 – change upstream repository">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-for-local-changes" class="md-nav__link">
    Check for local changes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronise-with-gcgarner-on-github" class="md-nav__link">
    Synchronise with gcgarner on GitHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get-rid-of-any-upstream-reference" class="md-nav__link">
    Get rid of any upstream reference
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#point-to-sensorsiot" class="md-nav__link">
    Point to SensorsIot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronise-with-sensorsiot-on-github" class="md-nav__link">
    Synchronise with SensorsIot on GitHub
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finish-with-a-pull" class="md-nav__link">
    Finish with a pull
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-option-2-clone-and-merge" class="md-nav__link">
    Migration Option 2 – clone and merge
  </a>
  
    <nav class="md-nav" aria-label="Migration Option 2 – clone and merge">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rename-your-existing-iotstack-folder" class="md-nav__link">
    Rename your existing IOTstack folder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fetch-a-clean-clone-of-sensorsiotiotstack" class="md-nav__link">
    Fetch a clean clone of SensorsIot/IOTstack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-old-into-new" class="md-nav__link">
    Merge old into new
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-choose-your-menu" class="md-nav__link">
    Step 4 – Choose your menu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-bring-up-your-stack" class="md-nav__link">
    Step 5 – Bring up your stack
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See also
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/ukkopahis/IOTstack/edit/master/docs/Updates/gcgarner-migration.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="migrating-from-gcgarner-to-sensorsiot">Migrating from gcgarner to SensorsIot<a class="headerlink" href="#migrating-from-gcgarner-to-sensorsiot" title="Permanent link">&para;</a></h1>
<p>These instructions explain how to migrate from <a href="https://github.com/gcgarner/IOTstack">gcgarner/IOTstack</a> to <a href="https://github.com/SensorsIot/IOTstack">SensorsIot/IOTstack</a>.</p>
<p>Migrating to SensorsIot/IOTstack was fairly easy when this repository was first forked from gcgarner/IOTstack. Unfortunately, what was a fairly simple switching procedure no longer works properly because conflicts have emerged.</p>
<p>The probability of conflicts developing increases as a function of time since the fork. Conflicts were and are pretty much inevitable so a more involved procedure is needed.</p>
<h2 id="migration-steps">Migration Steps<a class="headerlink" href="#migration-steps" title="Permanent link">&para;</a></h2>
<h3 id="step-1-check-your-assumptions">Step 1 – Check your assumptions<a class="headerlink" href="#step-1-check-your-assumptions" title="Permanent link">&para;</a></h3>
<p>Make sure that you are, <em>actually</em>, on gcgarner. Don't assume!</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git remote -v
<span class="go">origin  https://github.com/gcgarner/IOTstack.git (fetch)</span>
<span class="go">origin  https://github.com/gcgarner/IOTstack.git (push)</span>
</code></pre></div>
<p>Do not proceed if you don't see those URLs!</p>
<h3 id="step-2-take-iotstack-down">Step 2 – Take IOTstack down<a class="headerlink" href="#step-2-take-iotstack-down" title="Permanent link">&para;</a></h3>
<p>Take your stack down. This is not <em>strictly</em> necessary but we'll be moving the goalposts a bit so it's better to be on the safe side.</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span><span class="nb">cd</span> ~/IOTstack
<span class="gp">$ </span>docker-compose down
</code></pre></div>
<h3 id="step-3-choose-your-migration-method">Step 3 – Choose your migration method<a class="headerlink" href="#step-3-choose-your-migration-method" title="Permanent link">&para;</a></h3>
<p>There are two basic approaches to switching from gcgarner/IOTstack to SensorsIot/IOTstack:</p>
<ul>
<li><a href="#migration-option-1-change-upstream-repository">Migration by changing upstream repository</a></li>
<li><a href="#migration-option-2-clone-and-merge">Migration by clone and merge</a></li>
</ul>
<p>You can think of the first as "working <em>with</em> git" while the second is "using brute force".</p>
<p>The first approach will work if you haven't tried any other migration steps and/or have not made too many changes to items in your gcgarner/IOTstack that are under git control.</p>
<p>If you are already stuck or you try the first approach and get a mess, or it all looks far too hard to sort out, then try the <a href="#migration-option-2-clone-and-merge">Migration by clone and merge</a> approach.</p>
<h4 id="migration-option-1-change-upstream-repository">Migration Option 1 – change upstream repository<a class="headerlink" href="#migration-option-1-change-upstream-repository" title="Permanent link">&para;</a></h4>
<h5 id="check-for-local-changes">Check for local changes<a class="headerlink" href="#check-for-local-changes" title="Permanent link">&para;</a></h5>
<p>Make sure you are on the master branch (you probably are so this is just a precaution), and then see if Git thinks you have made any local changes:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span><span class="nb">cd</span> ~/IOTstack
<span class="gp">$ </span>git checkout master
<span class="gp">$ </span>git status
</code></pre></div>
<p>If Git reports any "modified" files, those will probably get in the way of a successful migration so it's a good idea to get those out of the way.</p>
<p>For example, suppose you edited <code>menu.sh</code> at some point. Git would report that as:</p>
<div class="language-text highlight"><pre><span></span><code>    modified:   menu.sh
</code></pre></div>
<p>The simplest way to deal with modified files is to rename them to move them out of the way, and then restore the original:</p>
<ol>
<li>
<p>Rename your customised version by adding your initials to the end of the filename. Later, you can come back and compare your customised version with the version from GitHub and see if you want to preserve any changes.</p>
<p>Here I'm assuming your initials are "jqh":</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>mv menu.sh menu.sh.jqh
</code></pre></div>
</li>
<li>
<p>Tell git to restore the unmodified version:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git checkout -- menu.sh
</code></pre></div>
</li>
<li>
<p>Now, repeat the Git command that complained about the file:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git status
</code></pre></div>
<p>The modified file will show up as "untracked" which is OK (ignore it)</p>
<div class="language-text highlight"><pre><span></span><code>Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)

    menu.sh.jqh
</code></pre></div>
</li>
</ol>
<h5 id="synchronise-with-gcgarner-on-github">Synchronise with gcgarner on GitHub<a class="headerlink" href="#synchronise-with-gcgarner-on-github" title="Permanent link">&para;</a></h5>
<p>Make sure your local copy of gcgarner is in sync with GitHub.</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git pull
</code></pre></div>
<h5 id="get-rid-of-any-upstream-reference">Get rid of any upstream reference<a class="headerlink" href="#get-rid-of-any-upstream-reference" title="Permanent link">&para;</a></h5>
<p>There may or may not be any "upstream" set. The most likely reason for this to happen is if you used your local copy as the basis of a Pull Request.</p>
<p>The next command will probably return an error, which you should ignore. It's just a precaution.</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git remote remove upstream
</code></pre></div>
<h5 id="point-to-sensorsiot">Point to SensorsIot<a class="headerlink" href="#point-to-sensorsiot" title="Permanent link">&para;</a></h5>
<p>Change your local repository to point to SensorsIot.</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git remote set-url origin https://github.com/SensorsIot/IOTstack.git
</code></pre></div>
<h5 id="synchronise-with-sensorsiot-on-github">Synchronise with SensorsIot on GitHub<a class="headerlink" href="#synchronise-with-sensorsiot-on-github" title="Permanent link">&para;</a></h5>
<p>This is where things can get a bit tricky so please read these instructions carefully <strong>before</strong> you proceed.</p>
<p>When you run the next command, it will probably give you a small fright by opening a text-editor window. Don't panic - just keep reading. Now, run this command:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git pull -X theirs origin master
</code></pre></div>
<p>The text editor window will look something like this:</p>
<div class="language-text highlight"><pre><span></span><code>Merge branch &#39;master&#39; of https://github.com/SensorsIot/IOTstack

# Please enter a commit message to explain why this merge is necessary,
# especially if it merges an updated upstream into a topic branch.
#
# Lines starting with &#39;#&#39; will be ignored, and an empty message aborts
# the commit.
</code></pre></div>
<p>The first line is a pre-prepared commit message, the remainder is boilerplate instructions which you can ignore.</p>
<p>Exactly which text editor opens is a function of your <code>EDITOR</code> environment variable and the <code>core.editor</code> set in your global Git configuration. If you:</p>
<ul>
<li>
<p>remember changing <code>EDITOR</code> and/or <code>core.editor</code> then, presumably, you will know how to interact with your chosen text editor. You don't need to make any changes to this file. All you need to do is save the file and exit;</p>
</li>
<li>
<p><strong>don't</strong> remember changing either <code>EDITOR</code> or <code>core.editor</code> then the editor will probably be the default <code>vi</code> (aka <code>vim</code>). You need to type ":wq" (without the quotes) and then press return. The ":" puts <code>vi</code> into command mode, the "w" says "save the file" and "q" means "quit <code>vi</code>". Pressing return runs the commands.  </p>
</li>
</ul>
<p>Git will display a long list of stuff. It's very tempting to ignore it but it's a good idea to take a closer look, particularly for signs of error or any lines beginning with:</p>
<div class="language-text highlight"><pre><span></span><code>Auto-merging
</code></pre></div>
<p>At the time of writing, you can expect Git to mention these two files:</p>
<div class="language-text highlight"><pre><span></span><code>Auto-merging menu.sh
Auto-merging .templates/zigbee2mqtt/service.yml
</code></pre></div>
<p>Those are known issues and the merge strategy <code>-X theirs</code> on the <code>git pull</code> command you have just executed deals with both, correctly, by preferring the SensorsIot version.</p>
<p>Similar conflicts may emerge in future and those will <strong>probably</strong> be dealt with, correctly, by the same merge strategy. Nevertheless, you should still check the output very carefully for other signs of merge conflict so that you can at least be alive to the possibility that the affected files may warrant closer inspection.</p>
<p>For example, suppose you saw:</p>
<div class="language-text highlight"><pre><span></span><code>Auto-merging .templates/someRandomService/service.yml
</code></pre></div>
<p>If you don't use <code>someRandomService</code> then you could safely ignore this on the basis that it was "probably right". However, if you did use that service and it started to misbehave after migration, you would know that the <code>service.yml</code> file was a good place to start looking for explanations.</p>
<h5 id="finish-with-a-pull">Finish with a pull<a class="headerlink" href="#finish-with-a-pull" title="Permanent link">&para;</a></h5>
<p>At this point, only the migrated master branch is present on your local copy of the repository. The next command brings you fully in-sync with GitHub:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git pull
</code></pre></div>
<h4 id="migration-option-2-clone-and-merge">Migration Option 2 – clone and merge<a class="headerlink" href="#migration-option-2-clone-and-merge" title="Permanent link">&para;</a></h4>
<p>If you have been following the process correctly, your IOTstack will already be down.</p>
<h5 id="rename-your-existing-iotstack-folder">Rename your existing IOTstack folder<a class="headerlink" href="#rename-your-existing-iotstack-folder" title="Permanent link">&para;</a></h5>
<p>Move your old IOTstack folder out of the way, like this:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span><span class="nb">cd</span> ~
<span class="gp">$ </span>mv IOTstack IOTstack.old
</code></pre></div>
<p>Note:</p>
<ul>
<li>You should not need <code>sudo</code> for the <code>mv</code> command but it is OK to use it if necessary.</li>
</ul>
<h5 id="fetch-a-clean-clone-of-sensorsiotiotstack">Fetch a clean clone of SensorsIot/IOTstack<a class="headerlink" href="#fetch-a-clean-clone-of-sensorsiotiotstack" title="Permanent link">&para;</a></h5>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git clone https://github.com/SensorsIot/IOTstack.git ~/IOTstack
</code></pre></div>
<p>Explore the result:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>tree -aFL <span class="m">1</span> --noreport ~/IOTstack
<span class="go">/home/pi/IOTstack</span>
<span class="go">├── .bash_aliases</span>
<span class="go">├── .git/</span>
<span class="go">├── .github/</span>
<span class="go">├── .gitignore</span>
<span class="go">├── .native/</span>
<span class="go">├── .templates/</span>
<span class="go">├── .tmp/</span>
<span class="go">├── LICENSE</span>
<span class="go">├── README.md</span>
<span class="go">├── docs/</span>
<span class="go">├── duck/</span>
<span class="go">├── install.sh*</span>
<span class="go">├── menu.sh*</span>
<span class="go">├── mkdocs.yml</span>
<span class="go">└── scripts/</span>
</code></pre></div>
<p>Note:</p>
<ul>
<li>If the <code>tree</code> command is not installed for some reason, use <code>ls -A1F ~/IOTstack</code>.</li>
</ul>
<p>Observe what is <strong>not</strong> there:</p>
<ul>
<li>There is no <code>docker-compose.yml</code></li>
<li>There is no <code>backups</code> directory</li>
<li>There is no <code>services</code> directory</li>
<li>There is no <code>volumes</code> directory</li>
</ul>
<p>From this, it should be self-evident that a clean checkout from GitHub is the factory for <em>all</em> IOTstack installations, while the contents of <code>backups</code>, <code>services</code>, <code>volumes</code> and <code>docker-compose.yml</code> represent each user's individual choices, configuration options and data.</p>
<h5 id="merge-old-into-new">Merge old into new<a class="headerlink" href="#merge-old-into-new" title="Permanent link">&para;</a></h5>
<p>Execute the following commands:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>mv ~/IOTstack.old/docker-compose.yml ~/IOTstack
<span class="gp">$ </span>mv ~/IOTstack.old/services ~/IOTstack
<span class="gp">$ </span>sudo mv ~/IOTstack.old/volumes ~/IOTstack 
</code></pre></div>
<p>You should not need to use <code>sudo</code> for the first two commands. However, if you get a permissions conflict on either, you should proceed like this:</p>
<ul>
<li>
<p>docker-compose.yml</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>sudo mv ~/IOTstack.old/docker-compose.yml ~/IOTstack
<span class="gp">$ </span>sudo chown pi:pi ~/IOTstack/docker-compose.yml
</code></pre></div>
</li>
<li>
<p>services</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>sudo mv ~/IOTstack.old/services ~/IOTstack
<span class="gp">$ </span>sudo chown -R pi:pi ~/IOTstack/services
</code></pre></div>
</li>
</ul>
<p>There is no need to migrate the <code>backups</code> directory. You are better off creating it by hand:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>mkdir ~/IOTstack/backups
</code></pre></div>
<h3 id="step-4-choose-your-menu">Step 4 – Choose your menu<a class="headerlink" href="#step-4-choose-your-menu" title="Permanent link">&para;</a></h3>
<p>If you have reached this point, you have migrated to SensorsIot/IOTstack where you are on the "master" branch. This implies "new menu".</p>
<p>The choice of menu is entirely up to you. Differences include:</p>
<ol>
<li>New menu takes a <strong>lot</strong> more screen real-estate than old menu. If you do a fair bit of work on small screens (eg iPad) you might find it hard to work with new menu.</li>
<li>New menu creates a large number of internal Docker networks whereas old menu has <em>one internal network to rule them all</em>. The practical consequence is that most users see error messages for networks being defined but not used, and occasionally run into problems where two containers can't talk to each other without tinkering with the networks. Neither of those happen under old menu. See <a href="https://github.com/SensorsIot/IOTstack/issues/245">Issue 245</a> if you want more information on this.</li>
<li>New menu has moved the definition of environment variables into <code>docker-compose.yml</code>. Old menu keeps environment variables in "environment files" in <code>~/IOTstack/services</code>. There is no "right" or "better" about either approach. It's just something to be aware of.</li>
<li>Under new menu, the <code>service.yml</code> files in <code>~/IOTstack/.templates</code> have all been left-shifted by two spaces. That means you can no longer use copy and paste to test containers - you're stuck with the extra work of re-adding the spaces. Again, this doesn't <em>matter</em> but you do need to be aware of it.</li>
</ol>
<p>What you give up when you choose old menu is summarised in the following. If a container appears on the right hand side but not the left then it is only available in new menu.</p>
<div class="language-text highlight"><pre><span></span><code>old-menu                master (new menu)
├── adminer             ├── adminer
├── blynk_server        ├── blynk_server
├── dashmachine         ├── dashmachine
├── deconz              ├── deconz
├── diyhue              ├── diyhue
├── domoticz            ├── domoticz
├── dozzle              ├── dozzle
├── espruinohub         ├── espruinohub
                      &gt; ├── example_template
├── gitea               ├── gitea
├── grafana             ├── grafana
├── heimdall            ├── heimdall
                      &gt; ├── home_assistant
├── homebridge          ├── homebridge
├── homer               ├── homer
├── influxdb            ├── influxdb
├── mariadb             ├── mariadb
├── mosquitto           ├── mosquitto
├── motioneye           ├── motioneye
├── nextcloud           ├── nextcloud
├── nodered             ├── nodered
├── openhab             ├── openhab
├── pihole              ├── pihole
├── plex                ├── plex
├── portainer           ├── portainer
├── portainer_agent     ├── portainer_agent
├── portainer-ce        ├── portainer-ce
├── postgres            ├── postgres
├── prometheus          ├── prometheus
├── python              ├── python
├── qbittorrent         ├── qbittorrent
├── rtl_433             ├── rtl_433
├── tasmoadmin          ├── tasmoadmin
├── telegraf            ├── telegraf
├── timescaledb         ├── timescaledb
├── transmission        ├── transmission
├── webthings_gateway   ├── webthings_gateway
├── wireguard           ├── wireguard
└── zigbee2mqtt         ├── zigbee2mqtt
                      &gt; └── zigbee2mqtt_assistant
</code></pre></div>
<p>You also give up the <code>compose-override.yml</code> functionality. On the other hand, Docker has its own <code>docker-compose.override.yml</code> which works with both menus.</p>
<p>If you want to switch to the old menu:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git checkout old-menu
</code></pre></div>
<p>Any time you want to switch back to the new menu:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>git checkout master
</code></pre></div>
<p>You can switch back and forth as much as you like and as often as you like. It's no harm, no foul. The branch you are on just governs what you see when you run:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>./menu.sh
</code></pre></div>
<p>Although you can freely change branches, it's probably not a good idea to try to mix-and-match your menus. Pick one menu and stick to it.</p>
<p>Even so, nothing will change <strong>until</strong> you run your chosen menu to completion and allow it to generate a new <code>docker-compose.yml</code>.</p>
<h3 id="step-5-bring-up-your-stack">Step 5 – Bring up your stack<a class="headerlink" href="#step-5-bring-up-your-stack" title="Permanent link">&para;</a></h3>
<p>Unless you have gotten ahead of yourself and have already run the menu (old or new) then nothing will have changed in the parts of your <code>~/IOTstack</code> folder that define your IOTstack implementation. You can safely:</p>
<div class="language-console highlight"><pre><span></span><code><span class="gp">$ </span>docker-compose up -d
</code></pre></div>
<h2 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">&para;</a></h2>
<p>There is another gist <a href="https://gist.github.com/Paraphraser/d119ae81f9e60a94e1209986d8c9e42f">Installing Docker for IOTstack</a> which explains how to overcome problems with outdated Docker and Docker-Compose installations.</p>
<p>Depending on the age of your gcgarner installation, you <strong>may</strong> run into problems which will be cured by working through that gist. </p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../New-Menu-Release-Notes/" class="md-footer__link md-footer__link--prev" aria-label="Previous: New IOTstack Menu" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              New IOTstack Menu
            </div>
          </div>
        </a>
      
      
        
        <a href="../migration-network-change/" class="md-footer__link md-footer__link--next" aria-label="Next: Migration: network change" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Migration: network change
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "tabs", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.ed9748b7.min.js"></script>
      
        <script src="../../javascript/fix-codeblock-console-copy-button.js"></script>
      
    
  </body>
</html>